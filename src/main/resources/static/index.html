<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
		<title>hello</title>
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<link href="roboto/css.css" rel="stylesheet">
		<link href="font/css/materialdesignicons.min.css" rel="stylesheet">
		<link href="vuetify/vuetify.min.css" rel="stylesheet">
	</head>
	<body>
		<div id="app">
			<v-app>
			  <v-main>
				<v-container>
				  <v-row>
			          <template v-for="(user, i) in users">
			            <v-col :key="i" class="mt-2" cols="12">
			              <v-btn depressed color="primary" @click="clickme(i)">{{user.username}}</v-btn>
			            </v-col>
			          </template>
		          </v-row>
				</v-container>
			  </v-main>
			</v-app>
		</div>
	</body>
	<script src="vue/vue.min.js"></script>
	<script src="vuetify/vuetify.min.js"></script>
	<script type="text/javascript">
		new Vue({
			el:'#app',
			vuetify: new Vuetify({
				theme: { dark: true },
			}),
			data:{
				users: [
					{userNo:'100230',password:'123456',username:'张维维'},
					{userNo:'100245',password:'123456',username:'王哲'},
					{userNo:'100232',password:'123456',username:'李米盛'},
					{userNo:'100627',password:'123456',username:'关晓鹏'},
					{userNo:'100226',password:'123456',username:'刘常富'},
					{userNo:'100246',password:'123456',username:'李贺彦'},
				],
			},
			methods: {
				clickme(index){
					let user=this.users[index];
					fetch('/hello/userLoginAndStaffClock', {
						  method: 'POST',
						  body: JSON.stringify(user),
						  headers: new Headers({
						    'Content-Type': 'application/json'
						  })
						}).then(res => res.json())
						.catch(err => {
							console.error('Error:', err);
							alert(err.message);
						})
						.then(res => {
							console.log('Success:', res);
							alert(res.message);
						});
				}
		    }
		})
	</script>
</html>

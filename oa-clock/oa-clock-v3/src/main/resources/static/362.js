"use strict";(self.webpackChunkmy_angular=self.webpackChunkmy_angular||[]).push([[362],{1362:(en,d,u)=>{u.r(d),u.d(d,{WelcomeModule:()=>tn});var p=u(7131),Z=u(4762),r=u(4579),n=u(7716),C=u(1841),T=u(8058),A=u(3080),F=u(4453),x=u(9374),E=u(4514),c=u(5734),g=u(8583),f=u(8542),h=u(269),W=u(7674),M=u(480),m=u(5887),z=u(6704),q=u(343);let O=(()=>{class e{transform(t,...o){return null===t||0===t.length?"\u65e0":t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"defaultValue",type:e,pure:!0}),e})();function b(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"input",18),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().$implicit.userNo=i}),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.Q6J("ngModel",t.userNo)}}function k(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"a",21),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2).$implicit;return n.oxw().showList(i)}),n._uU(1),n.qZA()}if(2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.userNo)}}function U(e,l){if(1&e&&n._uU(0),2&e){const t=n.oxw(2).$implicit;n.Oqu(t.userNo)}}function N(e,l){if(1&e&&(n.YNc(0,k,2,1,"a",19),n.YNc(1,U,1,1,"ng-template",null,20,n.W1O)),2&e){const t=n.MAs(2),o=n.oxw().$implicit;n.Q6J("ngIf",1===o.status)("ngIfElse",t)}}function v(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"input",22),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().$implicit.username=i}),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.Q6J("ngModel",t.username)}}function J(e,l){if(1&e&&n._uU(0),2&e){const t=n.oxw().$implicit;n.Oqu(t.username)}}function D(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"input",23),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw().$implicit.password=i}),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.Q6J("ngModel",t.password)}}function V(e,l){1&e&&n._uU(0,"******")}function B(e,l){if(1&e&&n._UZ(0,"nz-option",24),2&e){const t=l.$implicit;n.Q6J("nzLabel",t.address)("nzValue",t)}}function y(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"button",25),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit;return n.oxw().gotoWork(i)}),n._uU(1,"\u6253\u5361"),n.qZA()}}function Q(e,l){if(1&e&&n._UZ(0,"nz-alert",26),2&e){const t=n.oxw().$implicit;n.Q6J("nzMessage",t.message)}}function I(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.YNc(2,b,1,1,"input",8),n.YNc(3,N,3,2,"ng-template",null,9,n.W1O),n.qZA(),n.TgZ(5,"td"),n.YNc(6,v,1,1,"input",10),n.YNc(7,J,1,1,"ng-template",null,11,n.W1O),n.qZA(),n.TgZ(9,"td"),n.YNc(10,D,1,1,"input",12),n.YNc(11,V,1,0,"ng-template",null,13,n.W1O),n.qZA(),n.TgZ(13,"td"),n.TgZ(14,"nz-select",14),n.NdJ("ngModelChange",function(i){return n.CHM(t).$implicit.addr=i}),n.YNc(15,B,1,2,"nz-option",15),n.qZA(),n.qZA(),n.TgZ(16,"td"),n._uU(17),n.ALo(18,"defaultValue"),n.ALo(19,"defaultValue"),n.qZA(),n.TgZ(20,"td"),n._uU(21),n.ALo(22,"defaultValue"),n.ALo(23,"defaultValue"),n.qZA(),n.TgZ(24,"td"),n.YNc(25,y,2,0,"button",16),n.YNc(26,Q,1,1,"ng-template",null,17,n.W1O),n.qZA(),n.qZA()}if(2&e){const t=l.$implicit,o=n.MAs(4),i=n.MAs(8),a=n.MAs(12),s=n.MAs(27),_=n.oxw();n.xp6(2),n.Q6J("ngIf",t.edited)("ngIfElse",o),n.xp6(4),n.Q6J("ngIf",t.edited)("ngIfElse",i),n.xp6(4),n.Q6J("ngIf",t.edited)("ngIfElse",a),n.xp6(4),n.Q6J("ngModel",t.addr)("nzDropdownMatchSelectWidth",!1)("compareWith",_.compareFn),n.xp6(1),n.Q6J("ngForOf",_.addresses),n.xp6(2),n.AsE(" ",n.lcZ(18,16,null==t||null==t.staffClock?null:t.staffClock.clockTimeMin),"/",n.lcZ(19,18,null==t||null==t.staffClock?null:t.staffClock.clockWorkOnStatusName)," "),n.xp6(4),n.AsE(" ",n.lcZ(22,20,null==t||null==t.staffClock?null:t.staffClock.clockTimeMax),"/",n.lcZ(23,22,null==t||null==t.staffClock?null:t.staffClock.clockWorkOffStatusName)," "),n.xp6(4),n.Q6J("ngIf",1===t.status)("ngIfElse",s)}}function w(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u7ecf\u5ea6!"),n.BQk())}function Y(e,l){1&e&&n.YNc(0,w,2,0,"ng-container",36),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function S(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u7eac\u5ea6!"),n.BQk())}function $(e,l){1&e&&n.YNc(0,S,2,0,"ng-container",36),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function P(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u5730\u5740!"),n.BQk())}function L(e,l){1&e&&n.YNc(0,P,2,0,"ng-container",36),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function H(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"form",27),n.TgZ(2,"nz-form-item"),n.TgZ(3,"nz-form-label",28),n._uU(4,"\u7ecf\u5ea6"),n.qZA(),n.TgZ(5,"nz-form-control",29),n._UZ(6,"nz-input-number",30),n.YNc(7,Y,1,1,"ng-template",null,31,n.W1O),n.qZA(),n.qZA(),n.TgZ(9,"nz-form-item"),n.TgZ(10,"nz-form-label",28),n._uU(11,"\u7eac\u5ea6"),n.qZA(),n.TgZ(12,"nz-form-control",29),n._UZ(13,"nz-input-number",32),n.YNc(14,$,1,1,"ng-template",null,33,n.W1O),n.qZA(),n.qZA(),n.TgZ(16,"nz-form-item"),n.TgZ(17,"nz-form-label",28),n._uU(18,"\u5730\u5740"),n.qZA(),n.TgZ(19,"nz-form-control",29),n._UZ(20,"input",34),n.YNc(21,L,1,1,"ng-template",null,35,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&e){const t=n.MAs(8),o=n.MAs(15),i=n.MAs(22),a=n.oxw();n.xp6(1),n.Q6J("formGroup",a.validateForm),n.xp6(4),n.Q6J("nzErrorTip",t),n.xp6(1),n.Q6J("nzPrecision",7)("nzMin",0),n.xp6(6),n.Q6J("nzErrorTip",o),n.xp6(1),n.Q6J("nzPrecision",7)("nzMin",0),n.xp6(6),n.Q6J("nzErrorTip",i)}}function j(e,l){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA(),n.qZA()),2&e){const t=l.$implicit;n.xp6(2),n.Oqu(t.id),n.xp6(2),n.Oqu(t.staff_no),n.xp6(2),n.Oqu(t.clock_time),n.xp6(2),n.Oqu(t.longitude),n.xp6(2),n.Oqu(t.latitude),n.xp6(2),n.Oqu(t.address),n.xp6(2),n.Oqu(0===t.clock_type?"OA\u6253\u5361":"\u5ba1\u6279\u8865\u5361"),n.xp6(2),n.Oqu(t.create_time)}}const R=function(){return{y:"600px"}};function G(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-table",37,2),n.TgZ(3,"thead"),n.TgZ(4,"tr"),n.TgZ(5,"th",38),n._uU(6,"\u4e3b\u952e"),n.qZA(),n.TgZ(7,"th",38),n._uU(8,"\u5458\u5de5\u7f16\u53f7"),n.qZA(),n.TgZ(9,"th",3),n._uU(10,"\u6253\u5361\u65f6\u95f4"),n.qZA(),n.TgZ(11,"th",38),n._uU(12,"\u7ecf\u5ea6"),n.qZA(),n.TgZ(13,"th",38),n._uU(14,"\u7eac\u5ea6"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"\u6253\u5361\u5730\u5740"),n.qZA(),n.TgZ(17,"th",38),n._uU(18,"\u6253\u5361\u7c7b\u578b"),n.qZA(),n.TgZ(19,"th",3),n._uU(20,"\u521b\u5efa\u65f6\u95f4"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"tbody"),n.YNc(22,j,17,8,"tr",4),n.qZA(),n.qZA(),n.BQk()),2&e){const t=n.MAs(2),o=n.oxw();n.xp6(1),n.Q6J("nzData",o.logList)("nzScroll",n.DdM(3,R)),n.xp6(21),n.Q6J("ngForOf",t.data)}}const K=[{path:"",component:(()=>{class e{constructor(t,o,i,a){this.http=t,this.messageService=o,this.notificationService=i,this.fb=a,this.isVisible=!1,this.isAddrVisible=!1,this.compareFn=(s,_)=>s&&_?s.id===_.id:s===_,this.validateForm=this.fb.group({address:[null,[r.kI.required]],longitude:[null,[r.kI.required]],latitude:[null,[r.kI.required]],id:null})}ngOnInit(){return(0,Z.mG)(this,void 0,void 0,function*(){this.addresses=(yield this.http.get("/hello/addresses").toPromise()).data,this.users=(yield this.http.get("/hello/users").toPromise()).data,this.users.forEach(t=>{this.http.post("/hello/initStaffClock",t).subscribe(o=>{t.message=o.message,t.status=o.status,t.staffClock=o.data,t.addr=this.addresses[0]})})})}addRow(){this.users=[...this.users,{userNo:null,password:null,username:null,addr:this.addresses[0],status:1,edited:!0}]}gotoWork(t){if(null===t.userNo||0===t.userNo.length)return void this.notificationService.error("\u64cd\u4f5c\u63d0\u793a","\u8bf7\u8f93\u5165\u5458\u5de5\u7f16\u53f7!");if(null===t.username||0===t.username.length)return void this.notificationService.error("\u64cd\u4f5c\u63d0\u793a","\u8bf7\u8f93\u5165\u5458\u5de5\u59d3\u540d!");if(null===t.password||0===t.password.length)return void this.notificationService.error("\u64cd\u4f5c\u63d0\u793a","\u8bf7\u8f93\u5165\u5458\u5de5\u5bc6\u7801!");const o=Object.assign(Object.assign({},t),t.addr);this.http.post("/hello/userLoginAndStaffClock",o).subscribe(i=>{t.message=i.message,t.status=i.status,t.staffClock=i.data})}showList(t){this.http.post("/hello/selectAppStaffClockLogList",t).subscribe(o=>{this.logList=o.data||[],this.title=`${t.username}\u6253\u5361\u8bb0\u5f55${this.logList.length}\u6761`,this.isVisible=!0})}handleCancel(){this.isVisible=!1}handleOk(){this.isVisible=!1}open(){this.isAddrVisible=!0}submitForm(t){for(const o in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(o)&&(this.validateForm.controls[o].markAsDirty(),this.validateForm.controls[o].updateValueAndValidity());this.validateForm.valid&&(t.id=this.addresses.length+1,this.addresses.push(t),this.isAddrVisible=!1)}resetForm(){this.isAddrVisible=!1,this.validateForm.reset();for(const t in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(t)&&(this.validateForm.controls[t].markAsPristine(),this.validateForm.controls[t].updateValueAndValidity())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(C.eN),n.Y36(T.dD),n.Y36(A.zb),n.Y36(r.qu))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-welcome"]],decls:31,vars:10,consts:[["nz-button","","nzType","primary",3,"click"],[3,"nzData","nzFrontPagination","nzShowPagination"],["basicTable",""],["nzWidth","200px"],[4,"ngFor","ngForOf"],["nzTitle","\u516c\u53f8\u5730\u5740","nzWidth","400px",3,"nzVisible","nzMaskClosable","nzOkDisabled","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzWidth","1440px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u7f16\u53f7",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["userno",""],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u59d3\u540d",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["username",""],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u5bc6\u7801",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["password",""],[3,"ngModel","nzDropdownMatchSelectWidth","compareWith","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-button","","nzType","primary","nzDanger","",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u7f16\u53f7",3,"ngModel","ngModelChange"],[3,"click",4,"ngIf","ngIfElse"],["elseBlockChild",""],[3,"click"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u59d3\u540d",3,"ngModel","ngModelChange"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5458\u5de5\u5bc6\u7801",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","nzDanger","",3,"click"],["nzType","error","nzShowIcon","",3,"nzMessage"],["nz-form","",3,"formGroup"],["nzRequired",""],["nzHasFeedback","",3,"nzErrorTip"],["formControlName","longitude","nzPlaceHolder","\u8bf7\u8f93\u5165\u7ecf\u5ea6","nzPrecisionMode","cut",2,"width","100%",3,"nzPrecision","nzMin"],["longitudeErrorTpl",""],["formControlName","latitude","nzPlaceHolder","\u8bf7\u8f93\u5165\u7eac\u5ea6","nzPrecisionMode","cut",2,"width","100%",3,"nzPrecision","nzMin"],["latitudeErrorTpl",""],["nz-input","","formControlName","address","placeholder","\u8bf7\u8f93\u5165\u5730\u5740"],["addressErrorTpl",""],[4,"ngIf"],["nzSize","small","nzShowPagination","","nzShowQuickJumper","","nzShowSizeChanger","",3,"nzData","nzScroll"],["nzWidth","100px"]],template:function(t,o){if(1&t&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return o.addRow()}),n._uU(1,"\u6dfb\u52a0\u5458\u5de5"),n.qZA(),n._uU(2,"\n\xa0\n"),n.TgZ(3,"button",0),n.NdJ("click",function(){return o.open()}),n._uU(4,"\u6dfb\u52a0\u5730\u5740"),n.qZA(),n._UZ(5,"br"),n._UZ(6,"br"),n.TgZ(7,"nz-table",1,2),n.TgZ(9,"thead"),n.TgZ(10,"tr"),n.TgZ(11,"th",3),n._uU(12,"\u5458\u5de5\u7f16\u53f7"),n.qZA(),n.TgZ(13,"th",3),n._uU(14,"\u5458\u5de5\u59d3\u540d"),n.qZA(),n.TgZ(15,"th",3),n._uU(16,"\u5458\u5de5\u5bc6\u7801"),n.qZA(),n.TgZ(17,"th",3),n._uU(18,"\u516c\u53f8\u5730\u5740"),n.qZA(),n.TgZ(19,"th",3),n._uU(20,"\u4e0a\u73ed\u65f6\u95f4/\u4e0a\u73ed\u72b6\u6001"),n.qZA(),n.TgZ(21,"th",3),n._uU(22,"\u4e0b\u73ed\u65f6\u95f4/\u4e0b\u73ed\u72b6\u6001"),n.qZA(),n.TgZ(23,"th",3),n._uU(24,"\u64cd\u4f5c"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(25,"tbody"),n.YNc(26,I,28,24,"tr",4),n.qZA(),n.qZA(),n.TgZ(27,"nz-modal",5),n.NdJ("nzVisibleChange",function(a){return o.isAddrVisible=a})("nzOnCancel",function(){return o.resetForm()})("nzOnOk",function(){return o.submitForm(o.validateForm.value)}),n.YNc(28,H,23,8,"ng-container",6),n.qZA(),n.TgZ(29,"nz-modal",7),n.NdJ("nzVisibleChange",function(a){return o.isVisible=a})("nzOnCancel",function(){return o.handleCancel()})("nzOnOk",function(){return o.handleOk()}),n.YNc(30,G,23,4,"ng-container",6),n.qZA()),2&t){const i=n.MAs(8);n.xp6(7),n.Q6J("nzData",o.users)("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(19),n.Q6J("ngForOf",i.data),n.xp6(1),n.Q6J("nzVisible",o.isAddrVisible)("nzMaskClosable",!1)("nzOkDisabled",!o.validateForm.valid),n.xp6(2),n.Q6J("nzVisible",o.isVisible)("nzTitle",o.title)("nzFooter",null)}},directives:[F.ix,x.dQ,E.w,c.N8,c.Om,c.$Z,c.Uo,c._C,c.p0,g.sg,f.du,f.Hf,g.O5,h.Vq,r.JJ,r.On,W.Zp,r.Fj,h.Ip,M.r,r._Y,r.JL,m.Lr,r.sg,z.SK,m.Nx,z.t3,m.iK,m.Fd,q._,r.u],pipes:[O],styles:[""]}),e})()}];let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[p.Bz.forChild(K)],p.Bz]}),e})();var nn=u(8388);let tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[X,nn.m]]}),e})()}}]);
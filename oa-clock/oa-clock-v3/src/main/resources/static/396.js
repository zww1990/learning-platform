"use strict";(self.webpackChunkmy_angular=self.webpackChunkmy_angular||[]).push([[396],{3396:(sn,d,a)=>{a.r(d),a.d(d,{WelcomeModule:()=>cn});var p=a(6671),T=a(5861),u=a(433),n=a(4650),Z=a(529),A=a(9651),x=a(387),g=a(6895),f=a(5156),z=a(3679),m=a(6704),s=a(5e3),W=a(7096),h=a(8e3),F=a(6616),k=a(7044),O=a(1664),M=a(5635),E=a(9597),q=a(6672);function b(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"input",21),n.NdJ("ngModelChange",function(i){n.CHM(t);const r=n.oxw().$implicit;return n.KtG(r.userNo=i)}),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.Q6J("ngModel",t.userNo)}}function N(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"a",24),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2).$implicit,r=n.oxw();return n.KtG(r.showList(i))}),n._uU(1),n.qZA()}if(2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.userNo)}}function U(e,l){if(1&e&&n._uU(0),2&e){const t=n.oxw(2).$implicit;n.Oqu(t.userNo)}}function v(e,l){if(1&e&&(n.YNc(0,N,2,1,"a",22),n.YNc(1,U,1,1,"ng-template",null,23,n.W1O)),2&e){const t=n.MAs(2),o=n.oxw().$implicit;n.Q6J("ngIf",1===o.status)("ngIfElse",t)}}function J(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"input",25),n.NdJ("ngModelChange",function(i){n.CHM(t);const r=n.oxw().$implicit;return n.KtG(r.username=i)}),n.qZA()}if(2&e){const t=n.oxw().$implicit;n.Q6J("ngModel",t.username)}}function I(e,l){if(1&e&&n._uU(0),2&e){const t=n.oxw().$implicit;n.Oqu(t.username)}}function Q(e,l){if(1&e&&n._UZ(0,"nz-option",26),2&e){const t=l.$implicit;n.Q6J("nzLabel",t.address)("nzValue",t)}}function y(e,l){1&e&&n._UZ(0,"span")}function Y(e,l){if(1&e&&(n.TgZ(0,"nz-tag",29),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(null==t||null==t.staffClock?null:t.staffClock.clockTimeMin)}}function V(e,l){if(1&e&&(n.TgZ(0,"nz-tag",30),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(null==t||null==t.staffClock?null:t.staffClock.clockTimeMin)}}function D(e,l){if(1&e&&(n.YNc(0,Y,2,1,"nz-tag",27),n.YNc(1,V,2,1,"ng-template",null,28,n.W1O)),2&e){const t=n.MAs(2),o=n.oxw().$implicit;n.Q6J("ngIf",611===(null==o||null==o.staffClock?null:o.staffClock.clockWorkOnStatus))("ngIfElse",t)}}function w(e,l){1&e&&n._UZ(0,"span")}function $(e,l){if(1&e&&(n.TgZ(0,"nz-tag",29),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(null==t||null==t.staffClock?null:t.staffClock.clockTimeMax)}}function B(e,l){if(1&e&&(n.TgZ(0,"nz-tag",30),n._uU(1),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(null==t||null==t.staffClock?null:t.staffClock.clockTimeMax)}}function S(e,l){if(1&e&&(n.YNc(0,$,2,1,"nz-tag",27),n.YNc(1,B,2,1,"ng-template",null,31,n.W1O)),2&e){const t=n.MAs(2),o=n.oxw().$implicit;n.Q6J("ngIf",611===(null==o||null==o.staffClock?null:o.staffClock.clockWorkOffStatus))("ngIfElse",t)}}function P(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"button",32),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().$implicit,r=n.oxw();return n.KtG(r.gotoWork(i))}),n._uU(1,"\u6253\u5361"),n.qZA()}}function L(e,l){if(1&e&&n._UZ(0,"nz-alert",33),2&e){const t=n.oxw().$implicit;n.Q6J("nzMessage",t.message)}}function H(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"tr")(1,"td"),n.YNc(2,b,1,1,"input",10),n.YNc(3,v,3,2,"ng-template",null,11,n.W1O),n.qZA(),n.TgZ(5,"td"),n.YNc(6,J,1,1,"input",12),n.YNc(7,I,1,1,"ng-template",null,13,n.W1O),n.qZA(),n.TgZ(9,"td")(10,"nz-select",14),n.NdJ("ngModelChange",function(i){const c=n.CHM(t).$implicit;return n.KtG(c.addr=i)}),n.YNc(11,Q,1,2,"nz-option",15),n.qZA()(),n.TgZ(12,"td"),n.YNc(13,y,1,0,"span",16),n.YNc(14,D,3,2,"ng-template",null,17,n.W1O),n.qZA(),n.TgZ(16,"td"),n.YNc(17,w,1,0,"span",16),n.YNc(18,S,3,2,"ng-template",null,18,n.W1O),n.qZA(),n.TgZ(20,"td"),n.YNc(21,P,2,0,"button",19),n.YNc(22,L,1,1,"ng-template",null,20,n.W1O),n.qZA()()}if(2&e){const t=l.$implicit,o=n.MAs(4),i=n.MAs(8),r=n.MAs(15),c=n.MAs(19),_=n.MAs(23),C=n.oxw();n.xp6(2),n.Q6J("ngIf",t.edited)("ngIfElse",o),n.xp6(4),n.Q6J("ngIf",t.edited)("ngIfElse",i),n.xp6(4),n.Q6J("ngModel",t.addr)("nzDropdownMatchSelectWidth",!1)("compareWith",C.compareFn),n.xp6(1),n.Q6J("ngForOf",C.addresses),n.xp6(2),n.Q6J("ngIf",null===(null==t||null==t.staffClock?null:t.staffClock.clockWorkOnStatus))("ngIfElse",r),n.xp6(4),n.Q6J("ngIf",null===(null==t||null==t.staffClock?null:t.staffClock.clockWorkOffStatus))("ngIfElse",c),n.xp6(4),n.Q6J("ngIf",1===t.status)("ngIfElse",_)}}function G(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u7ecf\u5ea6!"),n.BQk())}function K(e,l){1&e&&n.YNc(0,G,2,0,"ng-container",43),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function R(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u7eac\u5ea6!"),n.BQk())}function j(e,l){1&e&&n.YNc(0,R,2,0,"ng-container",43),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function X(e,l){1&e&&(n.ynx(0),n._uU(1,"\u8bf7\u8f93\u5165\u5730\u5740!"),n.BQk())}function nn(e,l){1&e&&n.YNc(0,X,2,0,"ng-container",43),2&e&&n.Q6J("ngIf",l.$implicit.hasError("required"))}function tn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"form",34)(2,"nz-form-item")(3,"nz-form-label",35),n._uU(4,"\u7ecf\u5ea6"),n.qZA(),n.TgZ(5,"nz-form-control",36),n._UZ(6,"nz-input-number",37),n.YNc(7,K,1,1,"ng-template",null,38,n.W1O),n.qZA()(),n.TgZ(9,"nz-form-item")(10,"nz-form-label",35),n._uU(11,"\u7eac\u5ea6"),n.qZA(),n.TgZ(12,"nz-form-control",36),n._UZ(13,"nz-input-number",39),n.YNc(14,j,1,1,"ng-template",null,40,n.W1O),n.qZA()(),n.TgZ(16,"nz-form-item")(17,"nz-form-label",35),n._uU(18,"\u5730\u5740"),n.qZA(),n.TgZ(19,"nz-form-control",36),n._UZ(20,"input",41),n.YNc(21,nn,1,1,"ng-template",null,42,n.W1O),n.qZA()()(),n.BQk()),2&e){const t=n.MAs(8),o=n.MAs(15),i=n.MAs(22),r=n.oxw();n.xp6(1),n.Q6J("formGroup",r.validateForm),n.xp6(4),n.Q6J("nzErrorTip",t),n.xp6(1),n.Q6J("nzPrecision",7)("nzMin",0),n.xp6(6),n.Q6J("nzErrorTip",o),n.xp6(1),n.Q6J("nzPrecision",7)("nzMin",0),n.xp6(6),n.Q6J("nzErrorTip",i)}}function en(e,l){if(1&e&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.qZA(),n.TgZ(13,"td"),n._uU(14),n.qZA(),n.TgZ(15,"td"),n._uU(16),n.qZA()()),2&e){const t=l.$implicit;n.xp6(2),n.Oqu(t.id),n.xp6(2),n.Oqu(t.staff_no),n.xp6(2),n.Oqu(t.clock_time),n.xp6(2),n.Oqu(t.create_time),n.xp6(2),n.Oqu(t.longitude),n.xp6(2),n.Oqu(t.latitude),n.xp6(2),n.Oqu(t.address),n.xp6(2),n.Oqu(0===t.clock_type?"OA\u6253\u5361":"\u5ba1\u6279\u8865\u5361")}}const on=function(){return{y:"600px"}};function ln(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"nz-table",44,2)(3,"thead")(4,"tr")(5,"th",3),n._uU(6,"\u4e3b\u952e"),n.qZA(),n.TgZ(7,"th",3),n._uU(8,"\u5458\u5de5\u7f16\u53f7"),n.qZA(),n.TgZ(9,"th",4),n._uU(10,"\u6253\u5361\u65f6\u95f4"),n.qZA(),n.TgZ(11,"th",4),n._uU(12,"\u521b\u5efa\u65f6\u95f4"),n.qZA(),n.TgZ(13,"th",3),n._uU(14,"\u7ecf\u5ea6"),n.qZA(),n.TgZ(15,"th",3),n._uU(16,"\u7eac\u5ea6"),n.qZA(),n.TgZ(17,"th"),n._uU(18,"\u6253\u5361\u5730\u5740"),n.qZA(),n.TgZ(19,"th",3),n._uU(20,"\u6253\u5361\u7c7b\u578b"),n.qZA()()(),n.TgZ(21,"tbody"),n.YNc(22,en,17,8,"tr",6),n.qZA()(),n.BQk()),2&e){const t=n.MAs(2),o=n.oxw();n.xp6(1),n.Q6J("nzData",o.logList)("nzScroll",n.DdM(3,on)),n.xp6(21),n.Q6J("ngForOf",t.data)}}const an=[{path:"",component:(()=>{class e{constructor(t,o,i,r){this.http=t,this.messageService=o,this.notificationService=i,this.fb=r,this.isVisible=!1,this.isAddrVisible=!1,this.compareFn=(c,_)=>c&&_?c.id===_.id:c===_,this.validateForm=this.fb.group({address:[null,[u.kI.required]],longitude:[null,[u.kI.required]],latitude:[null,[u.kI.required]],id:null})}ngOnInit(){var t=this;return(0,T.Z)(function*(){t.addresses=(yield t.http.get("/hello/addresses").toPromise()).data,t.users=(yield t.http.get("/hello/users").toPromise()).data,t.users.forEach(o=>{t.http.post("/hello/initstaffclock",o).subscribe(i=>{o.message=i.message,o.status=i.status,o.staffClock=i.data,o.addr=t.addresses[0]})})})()}addRow(){this.users=[...this.users,{userNo:null,username:null,addr:this.addresses[0],status:1,edited:!0}]}gotoWork(t){if(null===t.userNo||0===t.userNo.length)return void this.notificationService.error("\u64cd\u4f5c\u63d0\u793a","\u8bf7\u8f93\u5165\u5458\u5de5\u7f16\u53f7!");if(null===t.username||0===t.username.length)return void this.notificationService.error("\u64cd\u4f5c\u63d0\u793a","\u8bf7\u8f93\u5165\u5458\u5de5\u59d3\u540d!");const o={...t,...t.addr};this.http.post("/hello/v1/userloginandstaffclock",o).subscribe(i=>{t.message=i.message,t.status=i.status,t.staffClock=i.data})}showList(t){this.http.post("/hello/selectappstaffclockloglist",t).subscribe(o=>{this.logList=o.data||[],this.title=`${t.username}\u6253\u5361\u8bb0\u5f55${this.logList.length}\u6761`,this.isVisible=!0})}handleCancel(){this.isVisible=!1}handleOk(){this.isVisible=!1}open(){this.isAddrVisible=!0}submitForm(t){for(const o in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(o)&&(this.validateForm.controls[o].markAsDirty(),this.validateForm.controls[o].updateValueAndValidity());this.validateForm.valid&&(t.id=this.addresses.length+1,this.addresses.push(t),this.isAddrVisible=!1)}resetForm(){this.isAddrVisible=!1,this.validateForm.reset();for(const t in this.validateForm.controls)this.validateForm.controls.hasOwnProperty(t)&&(this.validateForm.controls[t].markAsPristine(),this.validateForm.controls[t].updateValueAndValidity())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(Z.eN),n.Y36(A.dD),n.Y36(x.zb),n.Y36(u.QS))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-welcome"]],decls:29,vars:10,consts:[["nz-button","","nzType","primary",3,"click"],[3,"nzData","nzFrontPagination","nzShowPagination"],["basicTable",""],["nzWidth","100px"],["nzWidth","200px"],["nzWidth","150px"],[4,"ngFor","ngForOf"],["nzTitle","\u516c\u53f8\u5730\u5740","nzWidth","400px",3,"nzVisible","nzMaskClosable","nzOkDisabled","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzWidth","1440px",3,"nzVisible","nzTitle","nzFooter","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-input","","placeholder","\u5458\u5de5\u7f16\u53f7",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["userno",""],["nz-input","","placeholder","\u5458\u5de5\u59d3\u540d",3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["username",""],[2,"width","200px",3,"ngModel","nzDropdownMatchSelectWidth","compareWith","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["clockworkonstatus",""],["clockworkoffstatus",""],["nz-button","","nzType","primary","nzDanger","",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["nz-input","","placeholder","\u5458\u5de5\u7f16\u53f7",3,"ngModel","ngModelChange"],[3,"click",4,"ngIf","ngIfElse"],["elseBlockChild",""],[3,"click"],["nz-input","","placeholder","\u5458\u5de5\u59d3\u540d",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["nzColor","green",4,"ngIf","ngIfElse"],["clockworkonstatusChild",""],["nzColor","green"],["nzColor","red"],["clockworkoffstatusChild",""],["nz-button","","nzType","primary","nzDanger","",3,"click"],["nzType","error","nzShowIcon","",3,"nzMessage"],["nz-form","",3,"formGroup"],["nzRequired",""],["nzHasFeedback","",3,"nzErrorTip"],["formControlName","longitude","nzPlaceHolder","\u8bf7\u8f93\u5165\u7ecf\u5ea6","nzPrecisionMode","cut",2,"width","100%",3,"nzPrecision","nzMin"],["longitudeErrorTpl",""],["formControlName","latitude","nzPlaceHolder","\u8bf7\u8f93\u5165\u7eac\u5ea6","nzPrecisionMode","cut",2,"width","100%",3,"nzPrecision","nzMin"],["latitudeErrorTpl",""],["nz-input","","formControlName","address","placeholder","\u8bf7\u8f93\u5165\u5730\u5740"],["addressErrorTpl",""],[4,"ngIf"],["nzSize","small","nzShowPagination","","nzShowQuickJumper","","nzShowSizeChanger","",3,"nzData","nzScroll"]],template:function(t,o){if(1&t&&(n.TgZ(0,"button",0),n.NdJ("click",function(){return o.addRow()}),n._uU(1,"\u6dfb\u52a0\u5458\u5de5"),n.qZA(),n._uU(2,"\n\xa0\n"),n.TgZ(3,"button",0),n.NdJ("click",function(){return o.open()}),n._uU(4,"\u6dfb\u52a0\u5730\u5740"),n.qZA(),n._UZ(5,"br")(6,"br"),n.TgZ(7,"nz-table",1,2)(9,"thead")(10,"tr")(11,"th",3),n._uU(12,"\u7f16\u53f7"),n.qZA(),n.TgZ(13,"th",3),n._uU(14,"\u59d3\u540d"),n.qZA(),n.TgZ(15,"th",4),n._uU(16,"\u5730\u5740"),n.qZA(),n.TgZ(17,"th",5),n._uU(18,"\u4e0a\u73ed"),n.qZA(),n.TgZ(19,"th",5),n._uU(20,"\u4e0b\u73ed"),n.qZA(),n.TgZ(21,"th",4),n._uU(22,"\u64cd\u4f5c"),n.qZA()()(),n.TgZ(23,"tbody"),n.YNc(24,H,24,14,"tr",6),n.qZA()(),n.TgZ(25,"nz-modal",7),n.NdJ("nzVisibleChange",function(r){return o.isAddrVisible=r})("nzOnCancel",function(){return o.resetForm()})("nzOnOk",function(){return o.submitForm(o.validateForm.value)}),n.YNc(26,tn,23,8,"ng-container",8),n.qZA(),n.TgZ(27,"nz-modal",9),n.NdJ("nzVisibleChange",function(r){return o.isVisible=r})("nzOnCancel",function(){return o.handleCancel()})("nzOnOk",function(){return o.handleOk()}),n.YNc(28,ln,23,4,"ng-container",8),n.qZA()),2&t){const i=n.MAs(8);n.xp6(7),n.Q6J("nzData",o.users)("nzFrontPagination",!1)("nzShowPagination",!1),n.xp6(17),n.Q6J("ngForOf",i.data),n.xp6(1),n.Q6J("nzVisible",o.isAddrVisible)("nzMaskClosable",!1)("nzOkDisabled",!o.validateForm.valid),n.xp6(2),n.Q6J("nzVisible",o.isVisible)("nzTitle",o.title)("nzFooter",null)}},dependencies:[g.sg,g.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,f.du,f.Hf,z.t3,z.SK,m.Lr,m.Nx,m.iK,m.Fd,s.N8,s.Uo,s._C,s.Om,s.p0,s.$Z,W._V,h.Ip,h.Vq,F.ix,k.w,O.dQ,M.Zp,E.r,q.j]}),e})()}];let rn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(an),p.Bz]}),e})();var un=a(9598);let cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[rn,un.m]}),e})()}}]);